# configured imports, add more here; avoid to add anything apart this block
SET ( GIT_TIMESTAMP_ID "@GIT_TIMESTAMP_ID@" )
SET ( GIT_COMMIT_ID "@GIT_COMMIT_ID@" )
SET ( CPACK_PACKAGE_NAME @PACKAGE_NAME@ )
SET ( DISTR_SUFFIX @DISTR_SUFFIX@ ) # like ~trusty_amd64, no- prefixed
SET ( SOURCE_DIR "@SOURCE_DIR@" )
SET ( BINARY_DIR "@BINARY_DIR@" )
SET ( VERSION_STR "@VERSION_STR@" )
SET ( ENV{SOURCE_DATE_EPOCH} @SOURCE_DATE_EPOCH@ ) # that makes builds reproducable

SET ( CPACK_PACKAGE_VERSION "${VERSION_STR}-${GIT_TIMESTAMP_ID}-${GIT_COMMIT_ID}" )

SET ( FULL_VERSION "${CPACK_PACKAGE_VERSION}" )
string ( TOLOWER "${CPACK_PACKAGE_NAME}" CPACK_PACKAGE_NAME_LOWERCASE )

SET ( TARBALL_VERSION "${FULL_VERSION}" )

if ( DISTR_SUFFIX )
	SET ( FULL_VERSION "${FULL_VERSION}${DISTR_SUFFIX}" )
endif ()

# delimiter between name and version
set ( _d "-" )
if ( CPACK_GENERATOR )
	if ( ${CPACK_GENERATOR} STREQUAL "DEB" )
		UNSET ( _d )
		SET ( _d "_" )
	endif()
endif()

set ( TARBALL_FILE_NAME "${CPACK_PACKAGE_NAME_LOWERCASE}-${TARBALL_VERSION}-source" )
SET ( CPACK_PACKAGE_FILE_NAME "${CPACK_PACKAGE_NAME_LOWERCASE}${_d}${FULL_VERSION}" )

# force debian main package file (remove -bin)
set(CPACK_DEBIAN_FILE_NAME "${CPACK_PACKAGE_FILE_NAME}.deb")
set(CPACK_DEBIAN_META_FILE_NAME "${CPACK_DEBIAN_META_PACKAGE_NAME}${_d}${FULL_VERSION}.deb")
set(CPACK_DEBIAN_APPLICATIONS_FILE_NAME "${CPACK_DEBIAN_APPLICATIONS_PACKAGE_NAME}${_d}${FULL_VERSION}.deb")
set(CPACK_DEBIAN_DEVEL_FILE_NAME "${CPACK_DEBIAN_DEVEL_PACKAGE_NAME}${_d}${FULL_VERSION}.deb")
set(CPACK_DEBIAN_TOOLS_FILE_NAME "${CPACK_DEBIAN_TOOLS_PACKAGE_NAME}${_d}${FULL_VERSION}.deb")
set(CPACK_DEBIAN_ICUDATA_FILE_NAME "${CPACK_DEBIAN_ICUDATA_PACKAGE_NAME}${_d}65l${DISTR_SUFFIX}.deb")
set(CPACK_DEBIAN_CONVERTER_FILE_NAME "${CPACK_DEBIAN_CONVERTER_PACKAGE_NAME}${_d}${FULL_VERSION}.deb")

# rpm specific (used inside .spec template)
SET ( CPACK_RPM_PACKAGE_VERSION "${VERSION_STR}-${GIT_TIMESTAMP_ID}.${GIT_COMMIT_ID}" )
